(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{504:function(s,t,e){"use strict";e.r(t);var r=e(56),a=Object(r.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"browserslist"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#browserslist"}},[s._v("#")]),s._v(" browserslist")]),s._v(" "),e("p",[s._v("package.json 中增加 browserslist 配置。")]),s._v(" "),e("p",[s._v("本项目配置目标浏览器为：全球用户份额大于 1% 的浏览器 和 所有浏览器的最新两个版本，但是不包括 ie 11（因为本项目采用 vue3 开发，而 vue3 不支持 ie 11）。")]),s._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// package.json")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"browserslist"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"> 1%"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 2 versions"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not ie 11"')]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),e("p",[e("a",{attrs:{href:"https://caniuse.com/usage-table",target:"_blank",rel:"noopener noreferrer"}},[s._v("查看浏览器版本和用户占比"),e("OutboundLink")],1),s._v("。")]),s._v(" "),e("h1",{attrs:{id:"browserslist-作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#browserslist-作用"}},[s._v("#")]),s._v(" browserslist 作用")]),s._v(" "),e("p",[s._v("browserslit 用特定的语句来查询浏览器列表。")]),s._v(" "),e("p",[s._v("可以配置在 package.json 中(（推荐），也可以写单独的配置文件（.borwserslistrc），不能两个都配置，会报错。")]),s._v(" "),e("p",[s._v("配置好后，当我们使用一些 npm 包（babel，Autoprefixer，postcss-preset-env 等）的时候，这些包会根据配置列表生成对应的兼容代码。")]),s._v(" "),e("p",[s._v("语法及含义：")]),s._v(" "),e("p",[e("strong",[s._v("根据用户份额查询：")])]),s._v(" "),e("ul",[e("li",[e("p",[e("code",[s._v("> 5%")]),s._v(": 在全球用户份额大于 5% 的浏览器")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("> 5% in CN")]),s._v(": 在中国用户份额大于 5% 的浏览器")])])]),s._v(" "),e("p",[e("strong",[s._v("根据最新浏览器版本：")])]),s._v(" "),e("ul",[e("li",[e("code",[s._v("last 2 versions")]),s._v(": 所有浏览器的最新两个版本")]),s._v(" "),e("li",[e("code",[s._v("last 2 Chrome versions")]),s._v(": Chrome 浏览器的最新两个版本")])]),s._v(" "),e("p",[e("strong",[s._v("不再维护的浏览器")])]),s._v(" "),e("ul",[e("li",[e("code",[s._v("dead")]),s._v(": 官方不再维护已过两年，比如 IE10")])]),s._v(" "),e("p",[e("strong",[s._v("浏览器版本号")])]),s._v(" "),e("ul",[e("li",[e("code",[s._v("Chrome > 90")]),s._v(": Chrome 大于 90 版本号的浏览器(不区分大小写)")]),s._v(" "),e("li",[e("code",[s._v("not ie <=8")]),s._v(": 非 ie <= 8的版本（注：真实配置的时候 not 语句不能写在开头）")])]),s._v(" "),e("h3",{attrs:{id:"查询语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询语法"}},[s._v("#")]),s._v(" 查询语法")]),s._v(" "),e("ul",[e("li",[s._v("并集（or或者,），如 "),e("code",[s._v("> 1% or last 2 versions")]),s._v(" 或 "),e("code",[s._v("> 1%, last 2 versions")]),s._v("；")]),s._v(" "),e("li",[s._v("交集（and），如 "),e("code",[s._v("> 1% and last 2 versions")]),s._v("；")]),s._v(" "),e("li",[s._v("取反（not），如 "),e("code",[s._v("not > 1%")]),s._v("；")]),s._v(" "),e("li",[s._v("defaults：> 0.5%, last 2 versions, Firefox ESR, not dead；")])]),s._v(" "),e("h3",{attrs:{id:"使用示例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用示例"}},[s._v("#")]),s._v(" 使用示例")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("npx browserslist")]),s._v(" 列出当前配置文件支持的浏览器和对应的版本")]),s._v(" "),e("li",[e("code",[s._v('npx browserslist "chrome >90 and chrome <100"')]),s._v("  将返回 chrome [91,99]之前的所有版本")]),s._v(" "),e("li",[e("code",[s._v('npx browserslist "last 2 Chrome versions" --coverage')]),s._v(" 统计目标浏览器覆盖率")])])])}),[],!1,null,null,null);t.default=a.exports}}]);